(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{11022:function(e,t,s){Promise.resolve().then(s.bind(s,4226)),Promise.resolve().then(s.bind(s,32601))},4226:function(e,t,s){"use strict";s.d(t,{default:function(){return I}});var l=s(57437),r=s(83047),a=s(27485);function n(e){let{codeOutput:t}=e;return(0,l.jsx)(l.Fragment,{children:t?(0,l.jsx)("div",{className:"w-full overflow-x-auto",children:t}):(0,l.jsx)("div",{className:"flex items-center justify-center",children:(0,l.jsx)(a.g4,{visible:!0,height:"80",width:"80",color:"#A1A1AA",radius:"9",ariaLabel:"three-dots-loading",wrapperStyle:{},wrapperClass:""})})})}var i=s(2265),o=s(83533);function c(e){let{codeBlock:t}=e;return(0,l.jsx)(l.Fragment,{children:t?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{id:"LiveProvidersBrother",className:"hidden"}),(0,l.jsxs)(o.nu,{code:t,scope:{useState:i.useState,useRef:i.useRef,useEffect:i.useEffect},children:[(0,l.jsx)(o.IF,{}),(0,l.jsx)(o.i5,{})]})]}):(0,l.jsx)("div",{className:"flex items-center justify-center",children:(0,l.jsx)(a.CJ,{visible:!0,height:"80",width:"80",color:"#A1A1AA",ariaLabel:"triangle-loading",wrapperStyle:{},wrapperClass:""})})})}var d=s(52639),u=s(69954),h=s(87668),f=s(15767),m=s(9919),p=s(30278),x=s(57129);function g(e){let{handleSubmitC:t,handleInputChange:s,input:r,clear:a,isLoading:n,showStopButton:o,open:c,getRootProps:g,getInputProps:j}=e;return(0,l.jsx)("div",{className:"relative flex w-full flex-col items-center justify-center p-4",children:(0,l.jsxs)("div",{className:"flex w-full flex-col items-center",children:[(0,l.jsx)("div",{className:"mb-4 flex w-full justify-end",children:o&&(0,l.jsx)(f.A,{variant:"faded",className:"text-default-500",color:"default",onClick:a,endContent:(0,l.jsx)(d.Z,{className:"text-default-500",width:16,height:16}),children:"Clear"})}),(0,l.jsx)("form",{className:"relative w-full",onSubmit:t,children:(0,l.jsx)(m.Y,{minRows:1,maxRows:6,autoFocus:!0,value:r,onChange:s,onKeyDown:t,classNames:{innerWrapper:"items-center"},startContent:(0,i.createElement)("div",{...g(),key:"img_button_".concat(n),className:n?"pointer-events-none":""},(0,l.jsxs)(f.A,{isIconOnly:!0,variant:"bordered",onClick:c,size:"lg",isDisabled:n,children:[(0,l.jsx)("input",{...j(),className:"hidden"}),(0,l.jsx)(u.Z,{color:"gray",height:24,width:24})]})),endContent:(0,l.jsxs)(f.A,{color:"primary",type:n?"button":"submit",isDisabled:n,isIconOnly:!0,children:[(0,l.jsx)(h.Z,{height:24,width:24,className:(0,p.cn)({hidden:n})}),(0,l.jsx)("span",{className:(0,p.cn)("",{hidden:!n}),children:(0,l.jsx)(x.Z,{size:32,speed:1.5,color:"pink"})})]}),size:"lg",color:"default",variant:"faded",className:"overflow-y-auto",placeholder:"Type your message here..."})})]})})}var j=s(50940),w=s(36833),v=s(2193),b=s(92992),y=s(42631),N=s(64091),k=s(84573),C=s(33140),A=s(40884),_=s(38919),S=s(55448),E=s(68937),O=s(70759),F=s(27776),P=s(43107),L=s(99837),T=s(38746);function I(){let{getFirstCodeBlockContent:e}={getFirstCodeBlockContent:function(e){let t=/```(\w+)?\s*([\s\S]*?)\s*```/.exec(e);return t?t[2]:null}},t=function(){let{mutate:e}=(0,v.T)(),t=(0,b.Y)(e=>e.setSelectedProvider),s=(0,y.U)(e=>e.setOpen);return a=>{let{logo:n="codegptplusbeta",title:i="CodeGPT",link:o,description:c,ads:d=[{label:"CodeGPT+",link:"https://codegpt.co"}],footer:u=[{label:"Click here for more info about providers.",link:"https://codegpt.co"}]}=a;F.A.custom(a=>(0,l.jsxs)(C.w,{shadow:"lg",fullWidth:!0,classNames:{base:"max-h-[calc(100vh-5rem)] max-w-md m-auto bg-content2 after:bg-content2 after:absolute after:inset-0 after:shadow-2xl after:rounded-lg after:opacity-50 after:backdrop-filter after:blur-none after:content after:block after:z-[-1]",header:"grid grid-flow-col justify-between items-center",body:"h-fit relative overflow-hidden overflow-y-auto"},children:[(0,l.jsxs)(A.u,{children:[(0,l.jsxs)("div",{className:"grid grid-flow-col gap-4",children:[(0,l.jsx)(w.T,{provider:n,className:"rounded-lg border border-default-200"}),(0,l.jsx)("p",{className:"my-auto w-fit text-small",children:i})]}),(0,l.jsx)(f.A,{variant:"flat",size:"sm",isIconOnly:!0,onClick:()=>F.A.dismiss(a.id),startContent:(0,l.jsx)(k.Z,{className:"w-6 shrink-0"})}),o&&(0,l.jsx)("p",{className:"text-small text-default-500",children:o})]}),c&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(_.j,{}),(0,l.jsxs)(S.G,{children:[(0,l.jsx)("p",{className:"break-words text-xs",children:c}),d&&d.length>0&&(0,l.jsx)("div",{className:"mt-2 flex flex-col gap-2",children:d.map((r,n)=>(0,l.jsx)(C.w,{shadow:"none",classNames:{base:"bg-content2 border border-default-200 shadow-none",body:"items-center justify-center gap-4 text-center"},children:(0,l.jsxs)(S.G,{children:[r.label,(0,l.jsx)(f.A,{color:"primary",variant:"flat",onClick:()=>{(0,N.$)(),t("codegptplusbeta"),e().then(e=>{e||s(!0)}),F.A.dismiss(a.id)},children:"Try it now!"})]})},"e_adLink_".concat(n)))})]})]}),u&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(_.j,{}),(0,l.jsx)(E.i,{children:(0,l.jsx)("p",{className:"flex",children:u.length>0&&u.map((n,i)=>(0,l.jsx)(O.O,{showAnchorIcon:!!n.link,color:"foreground",className:"cursor-pointer",size:"sm",...n.link?{onClick:()=>(0,r.Yo)(n.link)}:{onClick:()=>{(0,N.$)(),t("codegptplusbeta"),e().then(e=>{e||s(!0)}),F.A.dismiss(a.id)}},children:n.label},"e_footerLink_".concat(i)))})})]})]}),{position:"top-center",duration:1e7})}}(),s=(0,b.Y)(e=>e.selectedProvider),{completion:a,complete:i,isLoading:o,handleInputChange:d,input:h,setInput:m,setCompletion:p}=(0,L.GO)({api:"/api/vision",onError:e=>{let s=e.message;try{var l;let t=JSON.parse(e.message);s=null!==(l=t.message)&&void 0!==l?l:s}catch(e){}t({logo:"codegptplusbeta",title:"CodeGPT Plus Error",description:null==s?void 0:s.replaceAll('"',""),footer:[{label:"Click here for more info about models.",link:"https://docs.codegpt.co/docs/category/ai-providers"}]})}}),x=a.replaceAll("w-screen","w-full").replaceAll("h-screen","h-full"),I=e(x),R=(0,l.jsx)(j.J,{content:x}),G=!!(!o&&x),K=async e=>{if("submit"===e.type||"Enter"===e.key&&!e.shiftKey){if(e.preventDefault(),o)return;let t={prompt:e.target.value,code:I,image:""};m(""),await i(JSON.stringify(t)).catch(()=>m(t.prompt));return}if(("x"===e.key.toLowerCase()||"KeyX"===e.code)&&(e.metaKey||e.ctrlKey)&&(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement)){e.preventDefault();let t=e.target,{selectionStart:s,selectionEnd:l}=t;if(null!==s&&null!==l&&s!==l){let e=t.value.substring(s,l);(0,r.zp)(e).then(()=>{d({target:{value:h.substring(0,s)+h.substring(l)}})})}}("v"===e.key.toLowerCase()||"KeyV"===e.code)&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),(0,r.M1)().then(t=>{let s=e.target,{selectionStart:l,selectionEnd:r}=s;d({target:{value:h.substring(0,null!=l?l:h.length)+t+h.substring(null!=r?r:h.length)}}),s.selectionStart=0,s.selectionEnd=0})),(0,P.g)(e)},z=async e=>{let t=e[0],s=t.name.split(".").pop();if(console.log(t),console.log(s),["png","jpg","jpeg","webp"].includes("image/"+s)){F.A.error("File type not supported",{position:"top-center",dismissible:!0,duration:5e3});return}try{let e=await new Promise((e,s)=>{let l=new FileReader;l.readAsDataURL(t),l.onload=()=>e(l.result),l.onerror=e=>s(e)});await i(JSON.stringify({prompt:"",image:e}))}catch(e){F.A.error("Error uploading file")}},{getRootProps:D,getInputProps:Z,open:J}=(0,T.uI)({onDrop:z,multiple:!1,useFsAccessApi:!1,noClick:!0});return s?(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(C.w,{className:"m-8 grid h-[95dvh] w-auto grid-cols-1 grid-rows-[auto_auto_1fr_auto]  items-center gap-4 p-4",children:[(0,l.jsxs)(A.u,{className:"flex flex-col items-center justify-center gap-3",children:[(0,l.jsx)("h1",{className:"text-5xl text-default-500",children:"React Sandbox"}),(0,l.jsxs)("p",{className:"text-smal text-default-500",children:["This ",(0,l.jsx)("span",{className:"underline",children:"experimental"})," tool allows you to build React components. You can either type a command or upload an image to interact."]})]}),(0,l.jsx)(_.j,{}),(0,l.jsx)(S.G,{className:"h-full overflow-y-auto",children:a||o?(0,l.jsx)("div",{className:"flex h-full justify-center",children:(0,l.jsx)(C.w,{fullWidth:!0,children:(0,l.jsxs)(S.G,{className:"grid h-full w-full grid-cols-[1.5fr_auto_1fr] grid-rows-1 justify-items-center gap-3 p-8",children:[(0,l.jsx)(n,{codeOutput:R}),(0,l.jsx)(_.j,{orientation:"vertical"}),(0,l.jsx)(c,{codeBlock:I})]})})}):(0,l.jsx)(C.w,{className:"m-auto w-fit",children:(0,l.jsx)("div",{...D(),children:(0,l.jsxs)(f.A,{isIconOnly:!0,variant:"bordered",onClick:J,className:"mx-auto flex h-fit w-fit flex-col items-center justify-center p-4",children:[(0,l.jsx)("input",{...Z(),className:"hidden"}),(0,l.jsx)(u.Z,{color:"gray",height:128,width:128}),(0,l.jsx)("h2",{className:"-translate-y-2 text-xl text-default-500",children:"Start dropping an image"})]})})})}),(0,l.jsx)(E.i,{children:(0,l.jsx)(g,{handleSubmitC:K,handleInputChange:d,input:h,clear:()=>{p("")},isLoading:o,showStopButton:G,open:J,getRootProps:D,getInputProps:Z})})]})}):null}}},function(e){e.O(0,[134,310,572,902,571,88,876,909,126,918,282,338,971,23,744],function(){return e(e.s=11022)}),_N_E=e.O()}]);