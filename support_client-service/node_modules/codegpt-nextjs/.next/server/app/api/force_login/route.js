"use strict";(()=>{var e={};e.id=5465,e.ids=[5465],e.modules={72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},39491:e=>{e.exports=require("assert")},14300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},82361:e=>{e.exports=require("events")},57147:e=>{e.exports=require("fs")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},41808:e=>{e.exports=require("net")},22037:e=>{e.exports=require("os")},71017:e=>{e.exports=require("path")},85477:e=>{e.exports=require("punycode")},12781:e=>{e.exports=require("stream")},24404:e=>{e.exports=require("tls")},76224:e=>{e.exports=require("tty")},57310:e=>{e.exports=require("url")},73837:e=>{e.exports=require("util")},59796:e=>{e.exports=require("zlib")},72262:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>h,patchFetch:()=>g,requestAsyncStorage:()=>l,routeModule:()=>u,serverHooks:()=>x,staticGenerationAsyncStorage:()=>d});var o={};r.r(o),r.d(o,{POST:()=>c,dynamic:()=>p});var s=r(49303),i=r(88716),n=r(60670),a=r(87385);let p="force-dynamic";async function c(e){let{access_token:t,refresh_token:r,expires_at:o}=await e.json();return await (0,a.j)({accessToken:t,refreshToken:r,expiresAt:String(o)}),new Response("OK")}let u=new s.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/force_login/route",pathname:"/api/force_login",filename:"route",bundlePath:"app/api/force_login/route"},resolvedPagePath:"/Users/maol/WebstormProjects/Trabajo/codegpt-nextjs/app/api/force_login/route.ts",nextConfigOutput:"standalone",userland:o}),{requestAsyncStorage:l,staticGenerationAsyncStorage:d,serverHooks:x}=u,h="/api/force_login/route";function g(){return(0,n.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:d})}},87385:(e,t,r)=>{r.d(t,{j:()=>c});var o=r(24330);r(60166);var s=r(20021),i=r(50249),n=r(80050),a=r(71615),p=r(40618);let c=async({accessToken:e,refreshToken:t,expiresAt:r})=>{console.log("SET VICUNA SESSION"),e||t||r||(0,i.R)((0,a.cookies)()).auth.signOut();let o=null;for(let i=54113;i<=54130;i++){console.log(`Trying port ${i}`);try{o=await n.Z.post(`http://localhost:${i}/vicunaSession`,{accessToken:e,refreshToken:t,expiresAt:r}).then(e=>e.data);let a=e||s.Xd.apiKey,p=await fetch("https://api.codegpt.co/api/v1/me",{method:"GET",cache:"no-store",...a?{headers:{Authorization:`Bearer ${a}`}}:{}}),c=await p.json(),u=c?.user?.distinct_id;u&&"undefined"!==u&&await n.Z.post(`${(0,s.vx)()}/userId`,{value:u});break}catch(e){console.log(`Port ${i} is closed or not responding.`)}}return o};(0,p.h)([c]),(0,o.j)("cb8707d39cee2d6b73f7d2a0c3a37eb9243fb61d",c)},20021:(e,t,r)=>{r.d(t,{Xd:()=>s,ed:()=>i,vx:()=>o});let o=()=>{let{headers:e}=r(71615),t=e().get("referer").split("/")[3];return t.includes("?")&&(t=t.split("?")[0]),console.log({extensionUrl:`http://localhost:${t}`}),`http://localhost:${t}`},s={},i=e=>{s=e}},50249:(e,t,r)=>{r.d(t,{R:()=>n});var o=r(93306);let s="https://auth.codegpt.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJyb3h1dnNyc2RieGFjb2twcmF1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTU0OTEyNzgsImV4cCI6MjAxMTA2NzI3OH0.fyyxVq2c2eLIExMQEUxP8wNoyY2UumBrfN5So16TCno";(0,o.AY)(s,i);let n=e=>(0,o.lx)(s,i,{cookies:{get:t=>e.get(t)?.value,set(t,r,o){try{e.set({name:t,value:r,...o})}catch(e){}},remove(t,r){try{e.set({name:t,value:"",...r})}catch(e){}}}})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[8948,1203,50,4104],()=>r(72262));module.exports=o})();